import{aF as N,_ as k,J as V,r as v,F as y,L as b,M as f,N as u,P as o,bB as C,aM as T,aI as F,T as Q,aO as S,R as _,Q as q,G as $,I as a,am as D,aS as L,aT as P}from"./index.4bd8ab7e.js";import{Q as A}from"./QForm.8a0c543d.js";import{u as E}from"./use-quasar.fa06306f.js";import{b as K,u as R}from"./axiosClient.ad61c203.js";import{u as M}from"./useI18n.96209f4d.js";import{F as j,a as z}from"./flag-VN.b719fcdb.js";const G=async c=>{const{data:e}=await K.post("/passport/signIn/",c);return e},J=()=>N(G);const O=V({setup(c){const{t:e}=M(),l=R(),p=E(),g=J(),n=v({username:"",password:"",remember:0}),d=v(null),h=[t=>!!t||e("this_field_is_required"),t=>t.length<=64||e("the_length_is_from_1_to_64_characters")],m=v(!0),x=v(null),U=[t=>!!t||e("this_field_is_required"),t=>6<=t.length||e("this_value_is_too_short")],B=()=>{var t,s,r,I;(t=d.value)==null||t.validate(),(s=x.value)==null||s.validate(),!(((r=d.value)==null?void 0:r.error)||((I=x.value)==null?void 0:I.error))&&g.mutate(n.value,{onSuccess:({data:i})=>{let w=i.profile;w.permission=i.permission,l.signIn({accessToken:i.accessToken,expiresAt:i.expiresAt,profile:w})},onError:({response:i})=>{i==null||i.data.error.forEach(w=>{p.notify({message:w.message,position:"bottom-right",type:"negative",actions:[{label:"Dismiss",color:"white"}]})})}})};return(t,s)=>(y(),b(A,{class:"q-form form",onSubmit:B},{default:f(()=>[u(F,{ref_key:"emailField",ref:d,modelValue:n.value.username,"onUpdate:modelValue":s[0]||(s[0]=r=>n.value.username=r),label:o(e)("email"),class:"custom-input",rules:h,onFocus:r=>!0,autogrow:"",onKeydown:s[1]||(s[1]=C(T(()=>{},["prevent"]),["enter"]))},null,8,["modelValue","label"]),u(F,{ref_key:"passwordField",ref:x,modelValue:n.value.password,"onUpdate:modelValue":s[3]||(s[3]=r=>n.value.password=r),label:o(e)("password"),rules:U,class:"custom-input",type:m.value?"password":"text"},{append:f(()=>[u(Q,{name:m.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[2]||(s[2]=r=>m.value=!m.value)},null,8,["name"])]),_:1},8,["modelValue","label","type"]),u(q,{class:"q-mt-lg",type:"submit",loading:o(g).isLoading.value,"data-testid":"sign-in-btn","data-cy":"sign-in-btn"},{default:f(()=>[S(_(o(e)("sign_in")),1)]),_:1},8,["loading"])]),_:1}))}});var H=k(O,[["__scopeId","data-v-53fa51a2"],["__file","D:/project_learn/goPMS/src/modules/auth/components/sign-in-form.vue"]]);const W=c=>(L("data-v-3e4ad99b"),c=c(),P(),c),X={class:"wrapper"},Y={class:"container"},Z={class:"text-white q-px-xl",color:"primary"},ee={class:"text-h2",color:"primary"},te={class:"text-h6"},se={class:"text-h6"},ae={class:"text-h6"},oe={href:"https://zalo.me/280180579574148514",target:"_blank",rel:"noopener"},le={class:"text-h6"},ne=W(()=>a("a",{href:"mailto:info@gopms.io",target:"_blank",rel:"noopener"},"info@gopms.io",-1)),re={class:"text-h6"},ie={class:"q-px-xl"},_e=V({setup(c){var n;const{toggleLocale:e,t:l}=M(),p=v((n=localStorage.getItem("language"))!=null?n:"en-US"),g=d=>{d==="en-US"?p.value="vi-VN":p.value="en-US",localStorage.setItem("language",p.value),e()};return(d,h)=>(y(),$("div",X,[u(q,{round:"",class:"lang-btn",flat:"",onClick:h[0]||(h[0]=m=>g(p.value))},{default:f(()=>[u(Q,null,{default:f(()=>[p.value==="en-US"?(y(),b(j,{key:0})):(y(),b(z,{key:1}))]),_:1})]),_:1}),a("div",Y,[a("div",Z,[a("h1",ee,_(o(l)("welcome_to_gopms")),1),a("p",te,_(o(l)("you_can_manage_all_properties_easily with_the_most_convenient_system")),1),a("p",se,_(o(l)("if_you_want_to_register_gopms_please_fill_out_the_registration_form_on_here")),1),a("p",ae,[S(_(o(l)("support"))+" : ",1),a("a",oe,_(o(l)("contact_via_zalo")),1)]),a("p",le,[S(_(o(l)("email"))+" : ",1),ne]),a("p",re,_(o(l)("hello")),1)]),u(D,{color:"white",vertical:""}),a("div",ie,[u(H)])])]))}});var fe=k(_e,[["__scopeId","data-v-3e4ad99b"],["__file","D:/project_learn/goPMS/src/modules/auth/view.vue"]]);export{fe as default};
