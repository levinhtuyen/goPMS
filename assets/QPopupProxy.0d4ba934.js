var j=Object.defineProperty,C=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var b=(e,t,a)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,i=(e,t)=>{for(var a in t||(t={}))B.call(t,a)&&b(e,a,t[a]);if(y)for(var a of y(t))Q.call(t,a)&&b(e,a,t[a]);return e},p=(e,t)=>C(e,S(t));import{a as c,bf as x,c as k,r as v,w as M,b as H,g as O,aR as q}from"./index.4bd8ab7e.js";import{a as A}from"./date.525ad423.js";import{Q as E}from"./QMenu.d60d439b.js";import{u as F,c as I}from"./position-engine.e365a736.js";const R=["gregorian","persian"],T={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>R.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Y=["update:modelValue"];function z(e){return e.year+"/"+x(e.month)+"/"+x(e.day)}function G(e,t){const a=c(()=>e.disable!==!0&&e.readonly!==!0),h=c(()=>e.editable===!0?0:-1),d=c(()=>{const o=[];return e.color!==void 0&&o.push(`bg-${e.color}`),e.textColor!==void 0&&o.push(`text-${e.textColor}`),o.join(" ")});function g(){return e.locale!==void 0?i(i({},t.lang.date),e.locale):t.lang.date}function l(o){const r=new Date,s=o===!0?null:0;if(e.calendar==="persian"){const u=A(r);return{year:u.jy,month:u.jm,day:u.jd}}return{year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate(),hour:s,minute:s,second:s,millisecond:s}}return{editable:a,tabindex:h,headerClass:d,getLocale:g,getCurrentDate:l}}var K=k({name:"QPopupProxy",props:p(i({},F),{breakpoint:{type:[String,Number],default:450}}),emits:["show","hide"],setup(e,{slots:t,emit:a,attrs:h}){const{proxy:d}=O(),{$q:g}=d,l=v(!1),o=v(null),r=c(()=>parseInt(e.breakpoint,10)),{canShow:s}=I({showing:l});function u(){return g.screen.width<r.value||g.screen.height<r.value?"dialog":"menu"}const m=v(u()),w=c(()=>m.value==="menu"?{maxHeight:"99vh"}:{});M(()=>u(),n=>{l.value!==!0&&(m.value=n)}),Object.assign(d,{show(n){s(n)===!0&&o.value.show(n)},hide(n){o.value.hide(n)},toggle(n){o.value.toggle(n)}});function D(n){l.value=!0,a("show",n)}function P(n){l.value=!1,m.value=u(),a("hide",n)}return()=>{const n=p(i(i({ref:o},w.value),h),{onShow:D,onHide:P});let f;return m.value==="dialog"?f=q:(f=E,Object.assign(n,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),H(f,n,t.default)}}});export{K as Q,Y as a,G as b,z as g,T as u};
