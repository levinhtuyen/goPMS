import{aw as ie,bh as te,av as me,_ as J,r as h,bx as ae,by as _e,a as S,F as a,G as r,N as n,M as u,I as i,R as o,U as y,az as p,Q as A,q as le,an as oe,W as X,K as z,T as ce,L as j}from"./index.7efcbe86.js";import{u as Z}from"./useI18n.6b7b36de.js";import{F as he,a as ue}from"./flag-VN.4261feb5.js";import{Q as re}from"./QSelect.8edab530.js";import{Q as fe}from"./QTooltip.c975c2a0.js";import{Q as se}from"./QForm.df816fa6.js";import{b as $}from"./axiosClient.a0ee23b9.js";import{Q as ee}from"./queryKeys.832af9fa.js";import{u as ne}from"./useNotify.967ca7e7.js";import{v as G}from"./useValidate.96008b94.js";import"./QMenu.b19dfcca.js";import"./position-engine.4a23d733.js";import"./selection.6afffe69.js";import"./QItemLabel.938a9258.js";import"./rtl.4b414a6d.js";import"./use-quasar.f3f15168.js";const Ve=async v=>{const{data:l}=await $.post("/passport/signUp",v);return l},ge=()=>{const v=te();return ie(Ve,{onSuccess:()=>{v.invalidateQueries(ee.REGISTER)}})},ve=async()=>{const{data:v}=await $.get("/appendix/getHotelTypeList");return v.data},de=()=>me(ee.HOTEL_TYPE_LIST,ve),ye={setup(){const{data:v,isFetching:l}=de(),{mutate:q,isLoading:e}=ge(),{toggleLocale:F,locale:T,t}=Z(),{notifySaveSuccess:E}=ne(),U=h(),f=h(!0),_=ae(),d=h({token:"",password:"",fullName:"",phone:"",email:"",hotelTypeSn:0,hotelName:"",hotelAddress:"",website:""});_e(()=>{d.value={token:_.query.token?String(_.query.token):"",password:_.query.password?String(_.query.password):"",fullName:_.query.fullName?String(_.query.fullName):"",phone:_.query.phone?String(_.query.phone):"",email:_.query.email?String(_.query.email):"",hotelTypeSn:_.query.hotelTypeSn?Number(_.query.hotelTypeSn):0,hotelName:_.query.hotelName?String(_.query.hotelName):"",hotelAddress:_.query.hotelAddress?String(_.query.hotelAddress):"",website:_.query.site?String(_.query.site):""}});const R=()=>{for(var s=8,m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()",g="",w=0,k=m.length;w<s;++w)g+=m.charAt(Math.floor(Math.random()*k));return d.value.password=g,d.value.password},C=h(!1),P=h(null),Q=S(()=>{var s;return((s=d.value)==null?void 0:s.hotelTypeSn)!=0}),x=h(null),L=S(()=>{var s,m,g;return!!((s=d.value)!=null&&s.fullName)&&((g=(m=d.value)==null?void 0:m.fullName)==null?void 0:g.length)<50}),D=h(null),H=S(()=>{var s,m,g,w,k;return!!((s=d.value)!=null&&s.phone)&&((g=(m=d.value)==null?void 0:m.phone)==null?void 0:g.length)>=8&&((k=(w=d.value)==null?void 0:w.phone)==null?void 0:k.length)<=12}),I=h(null),M=S(()=>{var s,m,g,w;return!!((s=d.value)!=null&&s.email)&&G((m=d.value)==null?void 0:m.email)&&((w=(g=d.value)==null?void 0:g.email)==null?void 0:w.length)<=100}),B=h(null),O=S(()=>{var s,m,g;return!!((s=d.value)!=null&&s.hotelName)&&((g=(m=d.value)==null?void 0:m.hotelName)==null?void 0:g.length)<=100}),W=h(null),K=S(()=>{var s,m,g;return!!((s=d.value)!=null&&s.hotelAddress)&&((g=(m=d.value)==null?void 0:m.hotelAddress)==null?void 0:g.length)<=100}),c=h(null),V=S(()=>{var s,m;return((m=(s=d.value)==null?void 0:s.website)==null?void 0:m.length)<=100}),b=h(null),N=S(()=>{var s,m,g,w,k;return!!((s=d.value)!=null&&s.password)&&((g=(m=d.value)==null?void 0:m.password)==null?void 0:g.length)>=8&&((k=(w=d.value)==null?void 0:w.password)==null?void 0:k.length)<=16});return{onSubmit:()=>{if(C.value=!0,!Q.value||!L.value||!H.value||!M.value||!O.value||!K.value||!V.value||!N.value)return!1;q(d.value,{onSuccess:async()=>{E()}})},t,toggleLocale:F,locale:T,formValues:d,hotelTypeOptions:v,isFetching:l,passwordField:b,fullNameField:x,phoneField:D,emailField:I,hotelNameField:B,hotelAddressField:W,websiteField:c,randomPassword:R,route:_,hidenPassword:f,isSubmitting:e,handleRegisterFormRef:U,isValidFullName:L,isValidPhone:H,isValidEmail:M,isValidHotelName:O,isValidHotelAddress:K,isValidWebsite:V,isSubmited:C,hotelTypeSnField:P,isValidhotelTypeSn:Q,isValidPassword:N,validateEmail:G}}},be={class:"row"},Se={class:"col-12 col-sm-6 col-md-4 offset-md-2 q-pa-sm"},pe={key:0},we={class:"col-12 col-sm-6 col-md-4 q-pa-sm"},qe={key:0},Ne={key:1},ke={class:"col-12 col-sm-6 col-md-4 offset-md-2 q-pa-sm"},Fe={key:0},Te={key:1},Ae={class:"col-12 col-sm-6 col-md-4 q-pa-sm"},Ee={key:0},Ue={key:1},Re={class:"col-12 col-sm-6 col-md-4 offset-md-2 q-pa-sm"},Ce={key:0},Pe={class:"col-12 col-sm-6 col-md-4 q-pa-sm"},Qe={key:0},xe={key:1},Le={key:2},De={class:"col-12 col-md-8 offset-md-2 q-pa-sm"},He={key:0},Ie={key:1},Me={class:"col-12 col-md-8 offset-md-2 q-pa-sm"},Be={class:"row items-center q-gutter-sm"},Oe={key:0},We={key:1},ze={class:"col-12 col-md-12 row justify-center q-pa-md q-gutter-md"};function je(v,l,q,e,F,T){return a(),r(X,null,[n(se,{ref:"handleRegisterFormRef",class:"q-gutter-md"},{default:u(()=>[i("div",be,[i("div",Se,[i("p",null,o(e.t("hotel_type"))+"*",1),n(re,{modelValue:e.formValues.hotelTypeSn,"onUpdate:modelValue":l[0]||(l[0]=t=>e.formValues.hotelTypeSn=t),loading:e.isFetching,options:e.hotelTypeOptions,label:e.t("select_hotel_type"),outlined:"","map-options":"","option-label":"name","option-value":"sn","emit-value":"",error:!e.isValidhotelTypeSn&&e.isSubmited},{error:u(()=>[e.formValues.hotelTypeSn==0&&e.isSubmited?(a(),r("p",pe,o(e.t("this_field_is_required")),1)):y("v-if",!0)]),_:1},8,["modelValue","loading","options","label","error"])]),i("div",we,[i("p",null,o(e.t("full_name"))+"*",1),n(p,{ref:"fullNameField",modelValue:e.formValues.fullName,"onUpdate:modelValue":l[1]||(l[1]=t=>e.formValues.fullName=t),outlined:"",placeholder:e.t("input_name"),error:!e.isValidFullName&&e.isSubmited},{error:u(()=>[!e.formValues.fullName&&e.isSubmited?(a(),r("p",qe,o(e.t("this_field_is_required")),1)):e.formValues.fullName.length<1||e.formValues.fullName.length>50&&e.isSubmited?(a(),r("p",Ne,o(e.t("the_length_is_from_1_to_50_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",ke,[i("p",null,o(e.t("hotel_name"))+"*",1),n(p,{ref:"hotelNameField",modelValue:e.formValues.hotelName,"onUpdate:modelValue":l[2]||(l[2]=t=>e.formValues.hotelName=t),placeholder:e.t("input_hotel_name"),outlined:"",error:!e.isValidHotelName&&e.isSubmited},{error:u(()=>[!e.formValues.hotelName&&e.isSubmited?(a(),r("p",Fe,o(e.t("this_field_is_required")),1)):e.formValues.hotelName.length>100&&e.isSubmited?(a(),r("p",Te,o(e.t("the_length_is_from_1_to_100_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",Ae,[i("p",null,o(e.t("hotel_phone"))+"*",1),n(p,{ref:"phoneField",modelValue:e.formValues.phone,"onUpdate:modelValue":l[3]||(l[3]=t=>e.formValues.phone=t),outlined:"",mask:"############",placeholder:e.t("input_hotel_phone"),error:!e.isValidPhone&&e.isSubmited},{error:u(()=>[!e.formValues.phone&&e.isSubmited?(a(),r("p",Ee,o(e.t("this_field_is_required")),1)):e.formValues.phone.length<8||e.formValues.phone.length>12&&e.isSubmited?(a(),r("p",Ue,o(e.t("the_length_is_from_8_to_12_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",Re,[i("p",null,o(e.t("hotel_website")),1),n(p,{ref:"websiteField",modelValue:e.formValues.website,"onUpdate:modelValue":l[4]||(l[4]=t=>e.formValues.website=t),placeholder:e.t("input_hotel_website"),outlined:"",error:!e.isValidWebsite&&e.isSubmited},{error:u(()=>[e.formValues.website.length>100&&e.isSubmited?(a(),r("p",Ce,o(e.t("the_length_is_from_1_to_100_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",Pe,[i("p",null,o(e.t("email"))+"*",1),n(p,{ref:"emailField",modelValue:e.formValues.email,"onUpdate:modelValue":l[5]||(l[5]=t=>e.formValues.email=t),type:"email",outlined:"",placeholder:e.t("input_email"),error:!e.isValidEmail&&e.isSubmited},{error:u(()=>[!e.formValues.email&&e.isSubmited?(a(),r("p",Qe,o(e.t("this_field_is_required")),1)):e.formValues.email.length>100&&e.isSubmited?(a(),r("p",xe,o(e.t("the_length_is_from_1_to_100_characters")),1)):!e.validateEmail(e.formValues.email)&&e.isSubmited?(a(),r("p",Le,o(e.t("invalid_email_format")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",De,[i("p",null,o(e.t("hotel_address"))+"*",1),n(p,{ref:"hotelAddressField",modelValue:e.formValues.hotelAddress,"onUpdate:modelValue":l[6]||(l[6]=t=>e.formValues.hotelAddress=t),outlined:"",placeholder:e.t("input_hotel_address"),error:!e.isValidHotelAddress&&e.isSubmited},{error:u(()=>[!e.formValues.hotelAddress&&e.isSubmited?(a(),r("p",He,o(e.t("this_field_is_required")),1)):e.formValues.hotelAddress.length>100&&e.isSubmited?(a(),r("p",Ie,o(e.t("the_length_is_from_1_to_100_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",Me,[i("div",Be,[i("p",null,o(e.t("password"))+"*",1),i("p",null,[n(A,{icon:"loop",round:"",flat:"",dense:"",onClick:l[7]||(l[7]=t=>e.randomPassword())},{default:u(()=>[n(fe,{anchor:"top middle",self:"bottom middle",offset:[10,10]},{default:u(()=>[i("strong",null,o(e.t("generate_random_password")),1)]),_:1})]),_:1})])]),n(p,{ref:"passwordField",modelValue:e.formValues.password,"onUpdate:modelValue":l[10]||(l[10]=t=>e.formValues.password=t),outlined:"",placeholder:e.t("input_your_password"),type:e.hidenPassword?"password":"text",error:!e.isValidPassword&&e.isSubmited},{append:u(()=>[le(n(A,{round:"",dense:"",flat:"",icon:"visibility",onClick:l[8]||(l[8]=t=>e.hidenPassword=!e.hidenPassword)},null,512),[[oe,!e.hidenPassword]]),le(n(A,{round:"",dense:"",flat:"",icon:"visibility_off",onClick:l[9]||(l[9]=t=>e.hidenPassword=!e.hidenPassword)},null,512),[[oe,e.hidenPassword]])]),error:u(()=>[!e.formValues.password&&e.isSubmited?(a(),r("p",Oe,o(e.t("this_field_is_required")),1)):e.formValues.password.length<8||e.formValues.password.length>16&&e.isSubmited?(a(),r("p",We,o(e.t("the_length_is_from_8_to_16_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","type","error"])])])]),_:1},512),y(" submit when email direct "),i("div",ze,[n(A,{loading:e.isSubmitting,label:e.t("register_submit"),type:"submit",color:"orange-9",size:"lg",class:"q-pl-lg q-pr-lg","no-caps":"",onClick:e.onSubmit},null,8,["loading","label","onClick"])]),y(" end submit when email direct ")],64)}var Ge=J(ye,[["render",je],["__file","D:/gopms-web/src/modules/sign-up/components/sign-up-from-email.vue"]]);const Ke=async v=>{const{data:l}=await $.post("/passport/submitRegistrationForm",v);return l},Ye=()=>{const v=te();return ie(Ke,{onSuccess:()=>{v.invalidateQueries(ee.REGISTER_DIRECT_To_EMAIL)}})},Je={setup(){const{data:v,isFetching:l}=de(),{mutate:q,isLoading:e}=Ye(),{toggleLocale:F,locale:T,t}=Z(),{notifySaveSuccess:E}=ne(),U=h(),f=h({fullName:"",phone:"",email:"",hotelTypeSn:0,hotelName:"",hotelAddress:"",website:""}),_=h(!1),d=h(null),R=S(()=>{var c;return((c=f.value)==null?void 0:c.hotelTypeSn)!=0}),C=h(null),P=S(()=>{var c,V,b;return!!((c=f.value)!=null&&c.fullName)&&((b=(V=f.value)==null?void 0:V.fullName)==null?void 0:b.length)<50}),Q=h(null),x=S(()=>{var c,V,b,N,Y;return!!((c=f.value)!=null&&c.phone)&&((b=(V=f.value)==null?void 0:V.phone)==null?void 0:b.length)>=8&&((Y=(N=f.value)==null?void 0:N.phone)==null?void 0:Y.length)<=12}),L=h(null),D=S(()=>{var c,V,b,N;return!!((c=f.value)!=null&&c.email)&&G((V=f.value)==null?void 0:V.email)&&((N=(b=f.value)==null?void 0:b.email)==null?void 0:N.length)<=100}),H=h(null),I=S(()=>{var c,V,b;return!!((c=f.value)!=null&&c.hotelName)&&((b=(V=f.value)==null?void 0:V.hotelName)==null?void 0:b.length)<=100}),M=h(null),B=S(()=>{var c,V,b;return!!((c=f.value)!=null&&c.hotelAddress)&&((b=(V=f.value)==null?void 0:V.hotelAddress)==null?void 0:b.length)<=100}),O=h(null),W=S(()=>{var c,V;return((V=(c=f.value)==null?void 0:c.website)==null?void 0:V.length)<=100});return{t,toggleLocale:F,locale:T,formValues:f,hotelTypeOptions:v,isFetching:l,fullNameField:C,isValidFullName:P,phoneField:Q,isValidPhone:x,emailField:L,isValidEmail:D,hotelNameField:H,isValidHotelName:I,hotelAddressField:M,isValidHotelAddress:B,websiteField:O,isValidWebsite:W,onSubmitRegisterDirectToEmail:()=>{if(_.value=!0,!R.value||!P.value||!x.value||!D.value||!I.value||!B.value||!W.value)return!1;q(f.value,{onSuccess:async()=>{E()}})},isSubmitting:e,registerFormRef:U,isSubmited:_,validateEmail:G,hotelTypeSnField:d,isValidhotelTypeSn:R}}},Xe={class:"row"},Ze={class:"col-12 col-sm-6 col-md-4 offset-md-2 q-pa-sm"},$e={key:0},el={class:"col-12 col-sm-6 col-md-4 q-pa-sm"},ll={key:0},ol={key:1},il={class:"col-12 col-sm-6 col-md-4 offset-md-2 q-pa-sm"},tl={key:0},al={key:1},rl={class:"col-12 col-sm-6 col-md-4 q-pa-sm"},sl={key:0},nl={key:1},dl={class:"col-12 col-sm-6 col-md-4 offset-md-2 q-pa-sm"},ml={key:0},_l={class:"col-12 col-sm-6 col-md-4 q-pa-sm"},cl={key:0},hl={key:1},ul={key:2},fl={class:"col-12 col-md-8 offset-md-2 q-pa-sm"},Vl={key:0},gl={key:1},vl={class:"col-12 col-md-12 row justify-center q-pa-md"};function yl(v,l,q,e,F,T){return a(),r(X,null,[n(se,{ref:"registerFormRef",class:"q-gutter-md"},{default:u(()=>[i("div",Xe,[i("div",Ze,[i("p",null,o(e.t("hotel_type"))+"*",1),n(re,{ref:"hotelTypeSnField",modelValue:e.formValues.hotelTypeSn,"onUpdate:modelValue":l[0]||(l[0]=t=>e.formValues.hotelTypeSn=t),loading:e.isFetching,"map-options":"","option-label":"name","option-value":"sn",options:e.hotelTypeOptions,"emit-value":"",outlined:"",placeholder:e.t("select_an_option"),error:!e.isValidhotelTypeSn&&e.isSubmited},{error:u(()=>[e.formValues.hotelTypeSn==0&&e.isSubmited?(a(),r("p",$e,o(e.t("this_field_is_required")),1)):y("v-if",!0)]),_:1},8,["modelValue","loading","options","placeholder","error"])]),i("div",el,[i("p",null,o(e.t("full_name"))+"*",1),n(p,{ref:"fullNameField",modelValue:e.formValues.fullName,"onUpdate:modelValue":l[1]||(l[1]=t=>e.formValues.fullName=t),outlined:"",placeholder:e.t("input_your_full_name"),"lazy-rules":"",error:!e.isValidFullName&&e.isSubmited},{error:u(()=>[!e.formValues.fullName&&e.isSubmited?(a(),r("p",ll,o(e.t("this_field_is_required")),1)):e.formValues.fullName.length<1||e.formValues.fullName.length>50&&e.isSubmited?(a(),r("p",ol,o(e.t("the_length_is_from_1_to_50_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",il,[i("p",null,o(e.t("hotel_name"))+"*",1),n(p,{ref:"hotelNameField",modelValue:e.formValues.hotelName,"onUpdate:modelValue":l[2]||(l[2]=t=>e.formValues.hotelName=t),placeholder:e.t("input_your_hotel_name"),outlined:"",error:!e.isValidHotelName&&e.isSubmited},{error:u(()=>[!e.formValues.hotelName&&e.isSubmited?(a(),r("p",tl,o(e.t("this_field_is_required")),1)):e.formValues.hotelName.length>100&&e.isSubmited?(a(),r("p",al,o(e.t("the_length_is_from_1_to_100_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",rl,[i("p",null,o(e.t("hotel_phone"))+"*",1),n(p,{ref:"phoneField",modelValue:e.formValues.phone,"onUpdate:modelValue":l[3]||(l[3]=t=>e.formValues.phone=t),outlined:"",mask:"############",placeholder:e.t("input_your_hotel_phone"),error:!e.isValidPhone&&e.isSubmited},{error:u(()=>[!e.formValues.phone&&e.isSubmited?(a(),r("p",sl,o(e.t("this_field_is_required")),1)):e.formValues.phone.length<8||e.formValues.phone.length>12&&e.isSubmited?(a(),r("p",nl,o(e.t("the_length_is_from_8_to_12_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",dl,[i("p",null,o(e.t("hotel_website")),1),n(p,{ref:"websiteField",modelValue:e.formValues.website,"onUpdate:modelValue":l[4]||(l[4]=t=>e.formValues.website=t),placeholder:e.t("input_your_hotel_website"),type:"email",outlined:"",error:!e.isValidWebsite&&e.isSubmited},{error:u(()=>[e.formValues.website.length>100&&e.isSubmited?(a(),r("p",ml,o(e.t("the_length_is_from_1_to_100_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",_l,[i("p",null,o(e.t("email"))+"*",1),n(p,{ref:"emailField",modelValue:e.formValues.email,"onUpdate:modelValue":l[5]||(l[5]=t=>e.formValues.email=t),type:"email",outlined:"",placeholder:e.t("input_your_email"),error:!e.isValidEmail&&e.isSubmited},{error:u(()=>[!e.formValues.email&&e.isSubmited?(a(),r("p",cl,o(e.t("this_field_is_required")),1)):e.formValues.email.length>100&&e.isSubmited?(a(),r("p",hl,o(e.t("the_length_is_from_1_to_100_characters")),1)):!e.validateEmail(e.formValues.email)&&e.isSubmited?(a(),r("p",ul,o(e.t("invalid_email_format")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])]),i("div",fl,[i("p",null,o(e.t("hotel_address"))+"*",1),n(p,{ref:"hotelAddressField",modelValue:e.formValues.hotelAddress,"onUpdate:modelValue":l[6]||(l[6]=t=>e.formValues.hotelAddress=t),outlined:"",placeholder:e.t("input_your_hotel_address"),error:!e.isValidHotelAddress&&e.isSubmited},{error:u(()=>[!e.formValues.hotelAddress&&e.isSubmited?(a(),r("p",Vl,o(e.t("this_field_is_required")),1)):e.formValues.hotelAddress.length>100&&e.isSubmited?(a(),r("p",gl,o(e.t("the_length_is_from_1_to_100_characters")),1)):y("v-if",!0)]),_:1},8,["modelValue","placeholder","error"])])])]),_:1},512),i("div",vl,[n(A,{loading:e.isSubmitting,label:e.t("register"),type:"submit",color:"orange-9",size:"lg",class:"q-pl-lg q-pr-lg","no-caps":"",onClick:e.onSubmitRegisterDirectToEmail},null,8,["loading","label","onClick"])])],64)}var bl=J(Je,[["render",yl],["__file","D:/gopms-web/src/modules/sign-up/components/sign-up-to-email.vue"]]);const Sl={components:{FlagUk:he,FlagVn:ue,SignUpFromEmail:Ge,SignUpToEmail:bl},setup(){const{toggleLocale:v,locale:l,t:q}=Z(),e=ae();return{t:q,toggleLocale:v,locale:l,route:e}}},pl={class:"row justify-end q-ma-md"},wl={class:"col-12 col-md-12"},ql={class:"text-bold text-center"};function Nl(v,l,q,e,F,T){const t=z("flag-uk"),E=z("flag-vn"),U=z("sign-up-to-email"),f=z("sign-up-from-email");return a(),r(X,null,[i("div",pl,[n(A,{round:"",flat:"",onClick:e.toggleLocale},{default:u(()=>[n(ce,null,{default:u(()=>[e.locale==="en-US"?(a(),j(t,{key:0})):(a(),j(E,{key:1}))]),_:1})]),_:1},8,["onClick"])]),i("div",wl,[i("h3",ql,o(e.t("register_now")),1)]),e.route.query.token?(a(),j(f,{key:1})):(a(),j(U,{key:0}))],64)}var Bl=J(Sl,[["render",Nl],["__file","D:/gopms-web/src/modules/sign-up/view.vue"]]);export{Bl as default};
