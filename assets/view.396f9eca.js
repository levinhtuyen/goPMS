import{aw as C,_ as k,J as V,r as v,F as y,L as b,M as f,N as u,P as o,bz as D,aD as $,az as F,T as Q,aF as I,R as _,Q as q,G as z,I as a,am as K,aJ as L,aK as M}from"./index.7efcbe86.js";import{Q as T}from"./QForm.df816fa6.js";import{u as A}from"./use-quasar.f3f15168.js";import{b as E,u as R}from"./axiosClient.a0ee23b9.js";import{u as U}from"./useI18n.6b7b36de.js";import{F as J,a as P}from"./flag-VN.4261feb5.js";const G=async c=>{const{data:e}=await E.post("/passport/signIn/",c);return e},j=()=>C(G);const H=V({setup(c){const{t:e}=U(),l=R(),p=A(),g=j(),n=v({username:"",password:"",remember:0}),d=v(null),h=[t=>!!t||e("this_field_is_required"),t=>t.length<=64||e("the_length_is_from_1_to_64_characters")],m=v(!0),x=v(null),N=[t=>!!t||e("this_field_is_required"),t=>6<=t.length||e("this_value_is_too_short")],B=()=>{var t,s,i,S;(t=d.value)==null||t.validate(),(s=x.value)==null||s.validate(),!(((i=d.value)==null?void 0:i.error)||((S=x.value)==null?void 0:S.error))&&g.mutate(n.value,{onSuccess:({data:r})=>{let w=r.profile;w.permission=r.permission,l.signIn({accessToken:r.accessToken,expiresAt:r.expiresAt,profile:w})},onError:({response:r})=>{r==null||r.data.error.forEach(w=>{p.notify({message:w.message,position:"bottom-right",type:"negative",actions:[{label:"Dismiss",color:"white"}]})})}})};return(t,s)=>(y(),b(T,{class:"q-form form",onSubmit:B},{default:f(()=>[u(F,{ref_key:"emailField",ref:d,modelValue:n.value.username,"onUpdate:modelValue":s[0]||(s[0]=i=>n.value.username=i),label:o(e)("email"),class:"custom-input",rules:h,onFocus:i=>!0,onKeydown:s[1]||(s[1]=D($(()=>{},["prevent"]),["enter"]))},null,8,["modelValue","label"]),u(F,{ref_key:"passwordField",ref:x,modelValue:n.value.password,"onUpdate:modelValue":s[3]||(s[3]=i=>n.value.password=i),label:o(e)("password"),rules:N,class:"custom-input",type:m.value?"password":"text"},{append:f(()=>[u(Q,{name:m.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[2]||(s[2]=i=>m.value=!m.value)},null,8,["name"])]),_:1},8,["modelValue","label","type"]),u(q,{class:"q-mt-lg",type:"submit",loading:o(g).isLoading.value,"data-testid":"sign-in-btn","data-cy":"sign-in-btn"},{default:f(()=>[I(_(o(e)("sign_in")),1)]),_:1},8,["loading"])]),_:1}))}});var O=k(H,[["__scopeId","data-v-53fa51a2"],["__file","D:/gopms-web/src/modules/auth/components/sign-in-form.vue"]]);const W=c=>(L("data-v-3e4ad99b"),c=c(),M(),c),X={class:"wrapper"},Y={class:"container"},Z={class:"text-white q-px-xl",color:"primary"},ee={class:"text-h2",color:"primary"},te={class:"text-h6"},se={class:"text-h6"},ae={class:"text-h6"},oe={href:"https://zalo.me/280180579574148514",target:"_blank",rel:"noopener"},le={class:"text-h6"},ne=W(()=>a("a",{href:"mailto:info@gopms.io",target:"_blank",rel:"noopener"},"info@gopms.io",-1)),ie={class:"text-h6"},re={class:"q-px-xl"},_e=V({setup(c){var n;const{toggleLocale:e,t:l}=U(),p=v((n=localStorage.getItem("language"))!=null?n:"en-US"),g=d=>{d==="en-US"?p.value="vi-VN":p.value="en-US",localStorage.setItem("language",p.value),e()};return(d,h)=>(y(),z("div",X,[u(q,{round:"",class:"lang-btn",flat:"",onClick:h[0]||(h[0]=m=>g(p.value))},{default:f(()=>[u(Q,null,{default:f(()=>[p.value==="en-US"?(y(),b(J,{key:0})):(y(),b(P,{key:1}))]),_:1})]),_:1}),a("div",Y,[a("div",Z,[a("h1",ee,_(o(l)("welcome_to_gopms")),1),a("p",te,_(o(l)("you_can_manage_all_properties_easily with_the_most_convenient_system")),1),a("p",se,_(o(l)("if_you_want_to_register_gopms_please_fill_out_the_registration_form_on_here")),1),a("p",ae,[I(_(o(l)("support"))+" : ",1),a("a",oe,_(o(l)("contact_via_zalo")),1)]),a("p",le,[I(_(o(l)("email"))+" : ",1),ne]),a("p",ie,_(o(l)("hello")),1)]),u(K,{color:"white",vertical:""}),a("div",re,[u(O)])])]))}});var fe=k(_e,[["__scopeId","data-v-3e4ad99b"],["__file","D:/gopms-web/src/modules/auth/view.vue"]]);export{fe as default};
