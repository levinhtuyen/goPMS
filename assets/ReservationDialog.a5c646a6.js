var $e=Object.defineProperty;var de=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var ce=(u,r,_)=>r in u?$e(u,r,{enumerable:!0,configurable:!0,writable:!0,value:_}):u[r]=_,me=(u,r)=>{for(var _ in r||(r={}))ze.call(r,_)&&ce(u,_,r[_]);if(de)for(var _ of de(r))je.call(r,_)&&ce(u,_,r[_]);return u};import{Q as Ke}from"./QSpace.c00d4884.js";import{av as se,aw as Xe,_ as We,J as Je,r as q,ax as Ze,C as pe,a as F,w as oe,F as $,L as te,M as d,N as a,I as n,R as p,P as e,q as v,Q as T,am as I,ay as eo,az as V,T as R,aA as oo,G as to,U as _e,aB as ge,aC as lo,aD as so,O as le,aE as no,aF as be,aG as ao,aH as io,aI as uo,aJ as ro,aK as co,an as C}from"./index.7efcbe86.js";import{Q as mo}from"./QBar.49f2f7c7.js";import{Q as U}from"./QSelect.8edab530.js";import{Q as he}from"./QDate.804040fd.js";import{Q as z}from"./QPopupProxy.9996c4ad.js";import{Q as fe}from"./QTime.fadff47c.js";import{a as P}from"./QMenu.b19dfcca.js";import{Q as po}from"./QForm.df816fa6.js";import{C as G}from"./ClosePopup.145acd40.js";import{u as _o}from"./useNotify.967ca7e7.js";import{c as w}from"./useCreateDate.6141d343.js";import{i as go,a as ve,v as bo,b as ho}from"./useValidate.96008b94.js";import{u as fo}from"./useAppendixQuery.039c05de.js";import{b as X,F as j,G as f,c as K}from"./axiosClient.a0ee23b9.js";import{Q as ne}from"./queryKeys.832af9fa.js";import{u as vo}from"./useRoomTypeListQuery.ac5115e9.js";import{u as yo,a as ko}from"./useCalculateBookingAmountMutation.46b5c200.js";import{d as ye}from"./date.2d51ed98.js";import{u as xo}from"./useI18n.6b7b36de.js";import{f as O,c as M}from"./useFormat.349e799c.js";const Vo=async({queryKey:u})=>{const[,r]=u;if(!r)return;const{data:_}=await X.get(`/configuration/pricingPlan/getPricingPlanData?roomTypeSn=${r}`);return _.data},So=(u,{enabled:r})=>{const _=[ne.PRICING_PLAN_DATA,u];return se(_,Vo,{enabled:r,select:D=>D})},qo=async({queryKey:u})=>{const[,r]=u;if(!r)return;const{data:_}=await X.get(`/configuration/room/getRoomList?roomTypeSn=${r}`);return _.data},To=(u,{enabled:r})=>{const _=[ne.ROOM_LIST,u];return se(_,qo,{enabled:r,select:D=>D})},Io=async()=>{const{data:u}=await X.get("/configuration/policy/getPolicy");return u.data},wo=()=>se(ne.POLICIES,Io),Do=async u=>{const{data:r}=await X.post("reservation/createReservation",u);return r},Ao=()=>Xe(Do,{onSuccess:()=>{}});function Eo(u){const{formatDate:r}=ye,_=yo();return{calculateBookingAmount:()=>{if(!u.checkIn||!u.checkOut||!u.bookingTypeSn||!go(r(u.checkIn,j),r(u.checkOut,j))&&!ve(r(w(u.checkIn),j))&&!ve(r(w(u.checkOut),j)))return!1;const L={useSuggestedPrice:u.useSuggestedPrice,pricingPlanSn:u.pricingPlanSn,bookingType:u.bookingTypeSn,checkinDateTime:Number(r(w(u.checkIn),"X")),checkoutDateTime:Number(r(w(u.checkOut),"X")),discount:u.discount||0,extraFee:u.extraFee||0,amountDeposit:u.amountDeposit||0};_.mutate(L,{onSuccess:Q=>{u.roomPrice=Q.roomPrice,u.totalCharge=Q.totalCharge,u.balance=Q.balance}})}}}const W=u=>(ro("data-v-ff78beac"),u=u(),co(),u),No={class:"custom-title-dialog text-bold"},Co={class:"text-bold q-mb-md text-body1",style:{"font-size":"16px"}},Uo={class:"row items-center q-mb-sm"},Po={class:"col col-md-6 col-sm-6 col-xs-12 q-pr-md"},Oo={class:"q-mb-xs"},Mo={class:"col col-md-6 col-sm-6 col-xs-12"},Lo={class:"q-mb-xs"},Qo={class:"row items-center q-mb-sm"},Bo={class:"col col-md-6 col-sm-6 col-xs-12 q-pr-md"},Fo={class:"q-mb-xs"},Ro={class:"col col-md-3 col-sm-6 col-xs-12 q-pr-md"},Go={class:"q-mb-xs"},Yo={class:"row items-center justify-end"},Ho={class:"row items-center justify-end"},$o={class:"col col-md-3 col-sm-6 col-xs-12"},zo={class:"q-mb-xs"},jo={class:"row items-center justify-end"},Ko={class:"row items-center justify-end"},Xo={class:"row items-center q-mb-sm"},Wo={class:"col col-md-6 col-sm-12 col-xs-12"},Jo={class:"text-bold",style:{"font-size":"16px"}},Zo={class:"col col-md-6 col-sm-12 col-xs-12"},et={class:"q-mb-xs"},ot=["id","value","onChange"],tt={key:0,class:"col col-md-3 col-sm-6 col-xs-12 q-pr-md"},lt={class:"q-mb-xs"},st={class:"row items-center q-mb-sm"},nt={class:"col col-md-6 col-sm-12 col-xs-12 q-pr-md"},at={class:"q-mb-xs"},it={class:"col col-md-6 col-sm-12 col-xs-12 q-pr-md"},ut={class:"q-mb-xs"},rt=["id","value","onChange"],dt={class:"text-bold q-my-md",style:{"font-size":"16px"}},ct={class:"q-pb-md q-ma-none"},mt={class:"q-gutter-x-md"},pt={class:"q-mb-md row items-center"},_t={class:"col col-md-3 col-sm-6 col-xs-12 q-pr-md"},gt={class:"q-mb-xs text-bold required"},bt={class:"col col-md-3 col-sm-6 col-xs-12 q-pr-md"},ht={class:"q-mb-xs text-bold"},ft={class:"col col-md-3 col-sm-6 col-xs-12 q-pr-md"},vt={class:"q-mb-xs text-bold"},yt={class:"col col-md-3 col-sm-6 col-xs-12"},kt={class:"q-mb-xs text-bold"},xt={class:"row justify-between items-center",style:{padding:"11px 0"}},Vt={class:"text-bold col q-mr-md",style:{"font-size":"16px"}},St=W(()=>n("div",{class:"text-bold col q-mr-md"},null,-1)),qt=W(()=>n("div",{class:"text-bold col q-mr-md"},null,-1)),Tt={class:"col col-md-3 col-sm-6 col-xs-12"},It=["id","value","onChange"],wt={class:"text-bold col q-mr-md",style:{padding:"21px 0 12px 0","font-size":"16px"}},Dt={class:"row justify-between items-center q-pb-md"},At={class:"col col-md-4 col-sm-6 col-xs-12"},Et={class:"q-mb-xs text-bold"},Nt={class:"col col-md-4 col-sm-6 col-xs-12"},Ct={class:"q-mb-xs text-bold"},Ut=["id","value","onChange"],Pt={class:"col col-md-4 col-sm-6 col-xs-12"},Ot={class:"q-mb-xs text-bold"},Mt=["id","value","onChange"],Lt={class:"row justify-between items-center",style:{padding:"11px 0"}},Qt={class:"text-bold col q-mr-md",style:{"font-size":"16px"}},Bt=W(()=>n("div",{class:"text-bold col q-mr-md"},null,-1)),Ft=W(()=>n("div",{class:"text-bold col q-mr-md"},null,-1)),Rt={class:"col col-md-3 col-sm-6 col-xs-12"},Gt=["id","value","onChange"],Yt={class:"col"},Ht={class:"q-mb-xs text-bold",style:{padding:"21px 0 0 0","font-size":"16px"}},$t=Je({props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","createSuccess"],setup(u,{expose:r,emit:_}){const D=u,L=q(),Q=Ze(),{addToDate:B,subtractFromDate:Y,formatDate:x}=ye,{t:s}=xo(),b=q(f.NEW_GUEST),{notifyCreateSuccess:ke}=_o(),k=pe({extraFee:!1,amountDeposit:!1,discount:!1}),ae={useSuggestedPrice:0,roomTypeSn:null,roomSn:null,bookingTypeSn:null,checkIn:"",checkOut:"",bookingSourceSn:"",guestName:"",extraFee:0,pricingPlanName:"",roomPrice:0,guestInfo:null,identityNumber:"",guestEmail:null,guestPhone:"",totalCharge:0,depositMethod:null,amountDeposit:0,discount:0,balance:0,note:"",bookingStatusSn:null,pricingPlanSn:null,depositMethodSn:null};let t=pe(me({},ae));const ie=q(),{calculateBookingAmount:S}=Eo(t),xe=Ao(),A=q(null),J=q(""),Ve=F(()=>!!A.value),Se=[i=>100>=i.length||s("the_length_is_from_0_to_100_characters"),i=>bo(i)||s("invalid_email_format")],qe=q([i=>!!i||s("this_field_is_required")]),Te=q([i=>!!i||s("this_field_is_required"),()=>ho(t.checkIn,t.checkOut)||s("the_time_must_be_greater_than_arrival_date_time")]),{data:Ie,refetch:we}=fo({enabled:Ve.value}),{data:y}=So(A,{enabled:!0}),{data:De,isFetching:Ae}=To(A,{enabled:!0}),{data:E}=ko(J,{enabled:!0}),{data:H}=wo(),{data:Ee}=vo();oe(y,()=>{var i,l,o,m;t.pricingPlanName=(l=(i=y.value)==null?void 0:i.pricingPlan)==null?void 0:l.name,t.pricingPlanSn=((m=(o=y.value)==null?void 0:o.pricingPlan)==null?void 0:m.sn)||null,t.checkIn&&t.checkOut&&S()}),oe(b,()=>{re()}),oe(E,()=>{ie.value=E.value});const Ne=F(()=>{var l,o;if(!y.value)return[];const i=[];return(l=y==null?void 0:y.value)!=null&&l.bookingTypeList&&((o=y==null?void 0:y.value)==null||o.bookingTypeList.forEach(m=>{switch(m){case 1:i.push({label:s("hourly"),value:1});break;case 2:i.push({label:s("overnight"),value:2});break;case 3:i.push({label:s("daily"),value:3});break}})),i}),Z=F({get(){return D.modelValue},set(i){_("update:modelValue",i)}}),Ce=F(()=>t.depositMethodSn===4?[i=>!!i||s("booking_source_required")]:[]),Ue=F(()=>[{value:1,label:s("cash")},{value:2,label:s("credit_card")},{value:3,label:s("bank_transfer")},{value:4,label:s("debt")}]),Pe=()=>{A.value=null,J.value="",Object.assign(t,ae)},Oe=i=>new Date(i)>=Y(new Date,{day:30}),Me=i=>{const l=t.checkIn?w(t.checkIn):"";return l&&l.setHours(0,0,0),t.bookingTypeSn===1?l?new Date(i)>=new Date(l):new Date(i)>=Y(new Date,{day:30}):t.bookingTypeSn===2||t.bookingTypeSn===3?l?new Date(i)>l:new Date(i)>=Y(new Date,{day:30}):l?new Date(i)>l:new Date(i)>=Y(new Date,{day:30})},Le=()=>{t.guestName||(t.guestName=s("guest_make"))},Qe=async(i,l,o,m)=>{if(A.value=i,t.roomTypeSn=i,t.roomSn=l,t.guestName=s("guest_make"),t.useSuggestedPrice=m||0,typeof m!="undefined"){t.bookingTypeSn=1;const c=B(new Date,{hours:0}),g=B(new Date,{hours:Number(o)||0});t.checkIn=x(c,"DD/MM/YYYY HH:mm"),t.checkOut=x(g,"DD/MM/YYYY HH:mm")}we.value()},ue=i=>{var l;(l=L.value)==null||l.validate().then(o=>{if(o)Q.dialog({message:s(i==="makeAReservation"?"are_you_sure_create_a_new_booking":"are_you_sure_create_and_check_in_a_new_booking"),cancel:{color:"grey-8",label:s("cancel"),noCaps:!0,dense:!0,outline:!0},color:"negative",ok:{color:"negative",label:s("confirm"),noCaps:!0,dense:!0}}).onOk(()=>{var c,g;const m={roomTypeSn:t.roomTypeSn,roomSn:t.roomSn,bookingTypeSn:t.bookingTypeSn,checkIn:Number(x(w(t.checkIn),"X")),checkOut:Number(x(w(t.checkOut),"X")),bookingSourceSn:t.bookingSourceSn,extraFee:t.extraFee,pricingPlanSn:t.pricingPlanSn,guestSn:b.value===f.AVAILABLE_GUEST?(c=t.guestInfo)==null?void 0:c.sn:null,guestName:b.value===f.AVAILABLE_GUEST?(g=t.guestInfo)==null?void 0:g.fullName:t.guestName,guestIdentity:t.identityNumber,guestEmail:t.guestEmail,guestPhone:t.guestPhone,totalCharge:t.totalCharge,depositMethodSn:t.depositMethodSn,amountDeposit:t.amountDeposit,discount:t.discount,note:t.note,bookingStatusSn:i==="makeAReservation"?null:2,useSuggestedPrice:t.useSuggestedPrice};xe.mutate(m,{onSuccess:h=>{h&&(ke(),_("createSuccess"))}})});else return!1})},Be=i=>{A.value=i,t.roomSn=null},Fe=()=>{var i,l,o,m;if(t.bookingTypeSn!==1){const c=new Date,g=B(new Date,{days:1}),h=t.bookingTypeSn===2?(i=H.value)==null?void 0:i.startOvernight.split(":"):(l=H.value)==null?void 0:l.startDaily.split(":"),ee=t.bookingTypeSn===2?(o=H.value)==null?void 0:o.endOvernight.split(":"):(m=H.value)==null?void 0:m.endDaily.split(":");h&&c.setHours(Number(h[0]),Number(h[1])),ee&&g.setHours(Number(ee[0]),Number(ee[1])),t.checkIn=x(c,"DD/MM/YYYY HH:mm"),t.checkOut=x(g,"DD/MM/YYYY HH:mm")}else{const c=B(new Date,{hours:1}),g=B(new Date,{hours:3});t.checkIn=x(c,"DD/MM/YYYY HH:mm"),t.checkOut=x(g,"DD/MM/YYYY HH:mm")}S()},Re=(i,l)=>{l(()=>{var o;ie.value=(o=E==null?void 0:E.value)==null?void 0:o.filter(m=>String(m==null?void 0:m.fullName).indexOf(String(i))>-1)})},re=()=>{t.guestInfo=null,t.identityNumber="",t.guestEmail=null,t.guestPhone=""},Ge=i=>{if(!t.guestInfo)return!1;t.identityNumber=i.identityNumber,t.guestEmail=i.email,t.guestPhone=i.mobile},Ye=i=>{J.value=i},He=()=>{Pe()},N=()=>{var i;(i=L.value)==null||i.validate().then(l=>{if(l)S();else return!1})};return r({setupReservationDialog:Qe}),(i,l)=>($(),te(uo,{modelValue:e(Z),"onUpdate:modelValue":l[35]||(l[35]=o=>io(Z)?Z.value=o:null),"full-width":"","full-height":"",onHide:He},{default:d(()=>[a(ao,{style:{padding:"3px 0px 27px 27px"},class:"no-scroll custom-dialog-reservation"},{default:d(()=>[a(mo,{class:"bg-white q-mt-md q-mr-md q-pa-none"},{default:d(()=>[n("div",No,p(e(s)("make_reservation")),1),a(Ke),v(a(T,{dense:"",flat:"",icon:"close"},null,512),[[G]])]),_:1}),a(I,{style:{"margin-top":"10px","margin-right":"27px"}}),a(eo,{class:"q-pa-none q-pb-md scroll q-pr-md",style:{height:"calc(100% - 112px)","padding-top":"11px"}},{default:d(()=>[a(po,{ref_key:"reservationFomRef",ref:L},{default:d(()=>[n("div",null,[n("div",Co,p(e(s)("room_information")),1),n("div",Uo,[n("div",Po,[n("p",Oo,p(e(s)("room_type_name"))+"*",1),a(U,{modelValue:e(t).roomTypeSn,"onUpdate:modelValue":[l[0]||(l[0]=o=>e(t).roomTypeSn=o),Be],filled:"",dense:"",options:e(Ee)||[],"option-label":"name","option-value":"sn",label:e(s)("select_room_type"),clearable:"","map-options":"","emit-value":"",rules:[o=>!!o||e(s)("this_field_is_required")]},null,8,["modelValue","options","label","rules"])]),n("div",Mo,[n("p",Lo,p(e(s)("room_name"))+"*",1),a(U,{modelValue:e(t).roomSn,"onUpdate:modelValue":l[1]||(l[1]=o=>e(t).roomSn=o),loading:e(Ae),filled:"",dense:"",label:e(s)("select_room"),clearable:"","map-options":"",options:e(De)||[],"emit-value":"","option-label":"name","option-value":"sn",rules:[o=>!!o||e(s)("this_field_is_required")]},null,8,["modelValue","loading","label","options","rules"])])]),n("div",Qo,[n("div",Bo,[n("p",Fo,p(e(s)("booking_type"))+"*",1),a(U,{modelValue:e(t).bookingTypeSn,"onUpdate:modelValue":[l[2]||(l[2]=o=>e(t).bookingTypeSn=o),Fe],filled:"",dense:"",options:e(Ne),"option-value":"value","option-label":"label","emit-value":"",label:e(s)("select_booking_type"),clearable:"","map-options":"",behavior:"menu","lazy-rules":"",rules:[o=>!!o||e(s)("this_field_is_required")]},null,8,["modelValue","options","label","rules"])]),n("div",Ro,[n("p",Go,p(e(s)("arrival_date_time"))+"*",1),a(V,{modelValue:e(t).checkIn,"onUpdate:modelValue":[l[5]||(l[5]=o=>e(t).checkIn=o),N],placeholder:e(s)("select_date_time"),filled:"",dense:"",debounce:"500",rules:qe.value},{prepend:d(()=>[a(R,{name:"event",class:"cursor-pointer"},{default:d(()=>[a(z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[a(he,{modelValue:e(t).checkIn,"onUpdate:modelValue":[l[3]||(l[3]=o=>e(t).checkIn=o),N],mask:e(K),options:Oe},{default:d(()=>[n("div",Yo,[v(a(T,{label:"Close",color:"primary",flat:""},null,512),[[G]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),append:d(()=>[a(R,{name:"access_time",class:"cursor-pointer"},{default:d(()=>[a(z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[a(fe,{modelValue:e(t).checkIn,"onUpdate:modelValue":l[4]||(l[4]=o=>e(t).checkIn=o),mask:e(K),format24h:"",onBlur:N},{default:d(()=>[n("div",Ho,[v(a(T,{label:"Close",color:"primary",flat:""},null,512),[[G]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","placeholder","rules"])]),n("div",$o,[n("p",zo,p(e(s)("departure_date_time"))+"*",1),a(V,{modelValue:e(t).checkOut,"onUpdate:modelValue":[l[8]||(l[8]=o=>e(t).checkOut=o),N],placeholder:e(s)("select_date_time"),filled:"",dense:"",debounce:"500",rules:Te.value},{prepend:d(()=>[a(R,{name:"event",class:"cursor-pointer"},{default:d(()=>[a(z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[a(he,{modelValue:e(t).checkOut,"onUpdate:modelValue":[l[6]||(l[6]=o=>e(t).checkOut=o),N],mask:e(K),options:Me},{default:d(()=>[n("div",jo,[v(a(T,{label:"Close",color:"primary",flat:""},null,512),[[G]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),append:d(()=>[a(R,{name:"access_time",class:"cursor-pointer"},{default:d(()=>[a(z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[a(fe,{modelValue:e(t).checkOut,"onUpdate:modelValue":l[7]||(l[7]=o=>e(t).checkOut=o),mask:e(K),format24h:"",onBlur:N},{default:d(()=>[n("div",Ko,[v(a(T,{label:"Close",color:"primary",flat:""},null,512),[[G]])])]),_:1},8,["modelValue","mask"])]),_:1})]),_:1})]),_:1},8,["modelValue","placeholder","rules"])])]),n("div",Xo,[n("div",Wo,[a(oo,{modelValue:e(t).useSuggestedPrice,"onUpdate:modelValue":[l[9]||(l[9]=o=>e(t).useSuggestedPrice=o),e(S)],"false-value":0,"true-value":1,color:"negative"},null,8,["modelValue","onUpdate:modelValue"]),n("span",Jo,p(e(s)("suggested_price_make")),1)]),n("div",Zo,[n("p",et,p(e(s)("room_price")),1),a(P,{modelValue:e(t).roomPrice,"onUpdate:modelValue":l[10]||(l[10]=o=>e(t).roomPrice=o),modelModifiers:{number:!0},filled:"",dense:"",class:"col custom-input q-field--with-bottom custom-input-readonly",suffix:"VND","bg-color":"orange-1","label-color":"negative",debounce:"500",color:"negative",standout:"",readonly:""},{control:d(({id:o,floatingLabel:m,modelValue:c,emitValue:g})=>[v(n("input",{id:o,readonly:"",class:"q-field__input text-right text-negative text-bold text-body1",value:e(O)(c),onChange:h=>e(M)(h,c,g)},null,40,ot),[[C,m]])]),_:1},8,["modelValue"])])]),e(t).useSuggestedPrice?_e("v-if",!0):($(),to("div",tt,[n("p",lt,p(e(s)("pricing_plan_name")),1),a(V,{modelValue:e(t).pricingPlanName,"onUpdate:modelValue":l[11]||(l[11]=o=>e(t).pricingPlanName=o),dense:"",class:"col q-field--with-bottom custom-input-readonly","bg-color":"grey-5",filled:"",readonly:""},null,8,["modelValue"])])),n("div",st,[n("div",nt,[n("p",at,p(e(s)("booking_source_name")),1),a(U,{modelValue:e(t).bookingSourceSn,"onUpdate:modelValue":l[12]||(l[12]=o=>e(t).bookingSourceSn=o),filled:"",dense:"",options:e(Ie),"option-value":"sn","option-label":"name","map-options":"",label:e(s)("select_source"),clearable:"","emit-value":"",behavior:"menu",class:"q-field--with-bottom",rules:e(Ce)},null,8,["modelValue","options","label","rules"])]),n("div",it,[n("p",ut,p(e(s)("extra_fee")),1),a(P,{modelValue:e(t).extraFee,"onUpdate:modelValue":[l[13]||(l[13]=o=>e(t).extraFee=o),e(S)],modelModifiers:{number:!0},filled:"",dense:"",class:"col",suffix:"VND",debounce:"500",rules:[o=>o>=0||e(s)("the_value_is_from_1_to_100_000_000_000"),o=>o<=1e11||e(s)("the_value_is_from_1_to_100_000_000_000")],type:"number",onBlur:l[14]||(l[14]=o=>e(k).extraFee=!1),onFocus:l[15]||(l[15]=o=>e(k).extraFee=!0)},{control:d(({id:o,floatingLabel:m,modelValue:c,emitValue:g})=>[v(n("input",{id:o,class:"q-field__input text-right",value:e(k).extraFee?c:e(O)(c),onChange:h=>e(M)(h,c,g)},null,40,rt),[[C,m]])]),_:1},8,["modelValue","rules","onUpdate:modelValue"])])])]),a(I),n("div",dt,p(e(s)("guest_information")),1),n("div",ct,[n("div",mt,[a(ge,{modelValue:b.value,"onUpdate:modelValue":l[16]||(l[16]=o=>b.value=o),dense:"",val:"Available guest",label:e(s)("available_guest"),color:"negative",class:"text-bold"},null,8,["modelValue","label"]),a(ge,{modelValue:b.value,"onUpdate:modelValue":l[17]||(l[17]=o=>b.value=o),dense:"",val:e(f).NEW_GUEST,label:e(s)("new_guest"),color:"negative",class:"text-bold"},null,8,["modelValue","val","label"])])]),n("div",pt,[n("div",_t,[n("p",gt,p(e(s)("guest_name")),1),b.value===e(f).AVAILABLE_GUEST?($(),te(U,{key:0,modelValue:e(t).guestInfo,"onUpdate:modelValue":[l[18]||(l[18]=o=>e(t).guestInfo=o),Ge],filled:"",dense:"","fill-input":"","use-input":"","use-chips":"",behavior:"menu","hide-selected":"","input-debounce":"500",options:e(E),placeholder:e(s)("input_guest_name"),"map-options":"","option-label":"fullName","option-value":"sn","lazy-rules":"",rules:[o=>!!o||e(s)("this_field_is_required")],onFilter:Re,onInputValue:Ye},lo({_:2},[e(t).guestInfo?{name:"append",fn:d(()=>[a(R,{name:"cancel",class:"cursor-pointer text-caption",onClick:so(re,["stop"])},null,8,["onClick"])])}:void 0]),1032,["modelValue","options","placeholder","rules"])):b.value===e(f).NEW_GUEST?($(),te(V,{key:1,modelValue:e(t).guestName,"onUpdate:modelValue":l[19]||(l[19]=o=>e(t).guestName=o),placeholder:e(s)("guest_make"),filled:"",dense:"",class:"q-field--with-bottom",rules:[o=>!o||o.length<=50||e(s)("the_length_is_from_1_to_50_characters")],onBlur:Le},null,8,["modelValue","placeholder","rules"])):_e("v-if",!0)]),n("div",bt,[n("p",ht,p(e(s)("identity_number")),1),a(V,{modelValue:e(t).identityNumber,"onUpdate:modelValue":l[20]||(l[20]=o=>e(t).identityNumber=o),dense:"",placeholder:e(s)("input_identity_number"),class:le(["col q-field--with-bottom",b.value===e(f).AVAILABLE_GUEST?"custom-input-readonly":""]),filled:"",type:"number","bg-color":b.value===e(f).AVAILABLE_GUEST?"grey-5":"",readonly:b.value===e(f).AVAILABLE_GUEST,"input-style":"border: none;",rules:[o=>!o||o.length>=9||e(s)("the_length_is_from_9_to_15_characters"),o=>!o||o.length<=15||e(s)("the_length_is_from_9_to_15_characters")]},null,8,["modelValue","placeholder","class","bg-color","readonly","rules"])]),n("div",ft,[n("p",vt,p(e(s)("email")),1),a(V,{modelValue:e(t).guestEmail,"onUpdate:modelValue":l[21]||(l[21]=o=>e(t).guestEmail=o),dense:"",placeholder:e(s)("input_email"),class:le(["col q-field--with-bottom",b.value===e(f).AVAILABLE_GUEST?"custom-input-readonly":""]),filled:"",type:"email",rules:e(t).guestEmail?Se:[],"bg-color":b.value===e(f).AVAILABLE_GUEST?"grey-5":"",readonly:b.value===e(f).AVAILABLE_GUEST},null,8,["modelValue","placeholder","class","rules","bg-color","readonly"])]),n("div",yt,[n("p",kt,p(e(s)("phone")),1),a(V,{modelValue:e(t).guestPhone,"onUpdate:modelValue":l[22]||(l[22]=o=>e(t).guestPhone=o),dense:"",placeholder:e(s)("input_phone_number"),class:le([b.value===e(f).AVAILABLE_GUEST?"custom-input-readonly":"","col q-field--with-bottom"]),filled:"",type:"number","bg-color":b.value===e(f).AVAILABLE_GUEST?"grey-5":"",readonly:b.value===e(f).AVAILABLE_GUEST,rules:[o=>!o||o.length>=8||e(s)("the_length_is_from_8_to_12_characters"),o=>!o||o.length<=12||e(s)("the_length_is_from_8_to_12_characters")]},null,8,["modelValue","placeholder","class","bg-color","readonly","rules"])]),a(I)]),a(I),n("div",xt,[n("div",Vt,p(e(s)("total_charges")),1),St,qt,n("div",Tt,[a(P,{modelValue:e(t).totalCharge,"onUpdate:modelValue":l[23]||(l[23]=o=>e(t).totalCharge=o),modelModifiers:{number:!0},filled:"",dense:"",class:"col custom-input custom-input-readonly",suffix:"VND","bg-color":"orange-1","label-color":"negative",debounce:"500",color:"negative",standout:"",readonly:""},{control:d(({id:o,floatingLabel:m,modelValue:c,emitValue:g})=>[v(n("input",{id:o,readonly:"",class:"q-field__input text-right text-negative text-bold text-body1",value:e(O)(c),onChange:h=>e(M)(h,c,g)},null,40,It),[[C,m]])]),_:1},8,["modelValue"])])]),a(I),n("div",wt,p(e(s)("deposit")),1),n("div",Dt,[n("div",At,[n("p",Et,p(e(s)("deposit_method")),1),a(U,{modelValue:e(t).depositMethodSn,"onUpdate:modelValue":l[24]||(l[24]=o=>e(t).depositMethodSn=o),class:"col col-md-4 col-sm-6 col-xs-12 q-pr-md q-field--with-bottom",filled:"",dense:"",options:e(Ue),"option-label":"label","option-value":"value",label:e(s)("select_method"),clearable:"","map-options":"","emit-value":"",behavior:"menu"},null,8,["modelValue","options","label"])]),n("div",Nt,[n("p",Ct,p(e(s)("amount")),1),a(P,{modelValue:e(t).amountDeposit,"onUpdate:modelValue":[l[25]||(l[25]=o=>e(t).amountDeposit=o),e(S)],filled:"",dense:"",class:"col col-md-4 col-sm-6 col-xs-12 q-pr-md",suffix:"VND",debounce:"500",rules:[o=>o>=0||e(s)("the_value_is_from_1_to_100_000_000_000"),o=>o<=1e11||e(s)("the_value_is_from_1_to_100_000_000_000")],type:"number",onBlur:l[26]||(l[26]=o=>e(k).amountDeposit=!1),onFocus:l[27]||(l[27]=o=>e(k).amountDeposit=!0)},{control:d(({id:o,floatingLabel:m,modelValue:c,emitValue:g})=>[v(n("input",{id:o,class:"q-field__input text-right",value:e(k).amountDeposit?c:e(O)(c),onChange:h=>e(M)(h,c,g)},null,40,Ut),[[C,m]])]),_:1},8,["modelValue","rules","onUpdate:modelValue"])]),n("div",Pt,[n("p",Ot,p(e(s)("discount")),1),a(P,{modelValue:e(t).discount,"onUpdate:modelValue":[l[28]||(l[28]=o=>e(t).discount=o),e(S)],filled:"",dense:"",placeholder:e(s)("input_discount"),behavior:"menu",suffix:"VND",debounce:"500",rules:[o=>o>=0||e(s)("the_value_is_from_1_to_100_000_000_000"),o=>o<=1e11||e(s)("the_value_is_from_1_to_100_000_000_000")],type:"number",onBlur:l[29]||(l[29]=o=>e(k).discount=!1),onFocus:l[30]||(l[30]=o=>e(k).discount=!0)},{control:d(({id:o,floatingLabel:m,modelValue:c,emitValue:g})=>[v(n("input",{id:o,class:"q-field__input text-right",value:e(k).discount?c:e(O)(c),onChange:h=>e(M)(h,c,g)},null,40,Mt),[[C,m]])]),_:1},8,["modelValue","placeholder","rules","onUpdate:modelValue"])])]),a(I),n("div",Lt,[n("div",Qt,p(e(s)("balance")),1),Bt,Ft,n("div",Rt,[a(P,{modelValue:e(t).balance,"onUpdate:modelValue":l[31]||(l[31]=o=>e(t).balance=o),modelModifiers:{number:!0},filled:"",dense:"",class:"col custom-input custom-input-readonly",suffix:"VND","bg-color":"orange-1","label-color":"negative",color:"negative",readonly:""},{control:d(({id:o,floatingLabel:m,modelValue:c,emitValue:g})=>[v(n("input",{id:o,readonly:"",class:"q-field__input text-right text-negative text-bold text-body1",value:e(O)(c),onChange:h=>e(M)(h,c,g)},null,40,Gt),[[C,m]])]),_:1},8,["modelValue"])])]),a(I),n("div",Yt,[n("p",Ht,p(e(s)("note")),1),a(V,{modelValue:e(t).note,"onUpdate:modelValue":l[32]||(l[32]=o=>e(t).note=o),filled:"",dense:"",placeholder:e(s)("input_note"),behavior:"menu",rules:[o=>!o||o.length<=200||e(s)("the_length_is_from_0_to_200_characters")]},null,8,["modelValue","placeholder","rules"])])]),_:1},512)]),_:1}),a(no,{align:"right",class:"bg-white text-teal text-right custom-padding-bottom q-mr-md"},{default:d(()=>[a(T,{"no-caps":"",outline:"",color:"grey-8",class:"custom-botton-modal",onClick:l[33]||(l[33]=o=>ue("makeAReservation"))},{default:d(()=>[be(p(e(s)("make_reservation")),1)]),_:1}),a(T,{"no-caps":"",color:"negative",class:"custom-botton-modal",onClick:l[34]||(l[34]=o=>ue("quickCheckIn"))},{default:d(()=>[be(p(e(s)("quick_check_in")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});var gl=We($t,[["__scopeId","data-v-ff78beac"],["__file","D:/gopms-web/src/modules/booking/room-view/components/ReservationDialog.vue"]]);export{gl as R};
